<%- include('partials/header') %>

<div class="page-header">
    <h1>Careers at Dream X</h1>
    <p class="subtitle">Join us in building the future of productive social networking</p>
</div>

<div class="content-section">
    <div class="content-block">
        <h2>Why Join Dream X?</h2>
        <p>At Dream X, we're on a mission to create a social network that actually makes people better. We're building a platform where productivity meets community, where growth is celebrated, and where every user becomes the best version of themselves.</p>
        <p>We're a team of passionate builders, designers, and dreamers who believe in the power of consistent progress. If you're addicted to growth and want to help millions of people achieve their goals, you belong here.</p>
    </div>

    <div class="content-block">
        <h2>Our Values</h2>
        <ul class="philosophy-list">
            <li><strong>Growth Mindset:</strong> We believe everyone can improve, including ourselves. We embrace challenges and learn from failures.</li>
            <li><strong>User First:</strong> Every decision we make starts with "How does this help our users grow?"</li>
            <li><strong>Transparency:</strong> We communicate openly, share knowledge freely, and build in public.</li>
            <li><strong>Quality Over Speed:</strong> We ship when it's ready, not when it's rushed.</li>
            <li><strong>Diversity & Inclusion:</strong> The best ideas come from diverse perspectives. We build for everyone.</li>
        </ul>
    </div>

    <div class="content-block highlight-block">
        <h2>üåü The 25% Time Philosophy</h2>
        <p>At Dream X, we practice what we preach. Just as our platform encourages users to pursue their passions and grow continuously, we extend the same principle to our team.</p>
        
        <div class="time-philosophy">
            <div class="time-stat">
                <div class="stat-number">25%</div>
                <div class="stat-label">Free Time</div>
            </div>
            <div class="time-description">
                <h3>Invest in Yourself, On Company Time</h3>
                <p>Every week, you'll have <strong>25% of your work time (roughly one full day)</strong> dedicated to personal and professional development. This isn't vacation or break time‚Äîit's intentional growth time built into your role.</p>
                
                <h4>What can you do with your 25% time?</h4>
                <ul>
                    <li><strong>Learn New Skills:</strong> Take online courses, attend workshops, or practice a new programming language</li>
                    <li><strong>Side Projects:</strong> Build something you're passionate about, experiment with new technologies</li>
                    <li><strong>Creative Pursuits:</strong> Work on music, art, writing, or any creative hobby that fuels your inspiration</li>
                    <li><strong>Physical & Mental Health:</strong> Exercise, meditate, take a long walk, or pursue fitness goals</li>
                    <li><strong>Community Contribution:</strong> Contribute to open source, mentor others, or teach a skill</li>
                    <li><strong>Innovation Time:</strong> Experiment with ideas that could benefit Dream X or solve problems you've noticed</li>
                    <li><strong>Reading & Research:</strong> Deep dive into topics that interest you, stay current with industry trends</li>
                </ul>

                <h4>Why we do this:</h4>
                <p>We believe that the best employees aren't just skilled workers‚Äîthey're well-rounded humans with diverse interests and continuous curiosity. By investing in your growth, we create:</p>
                <ul>
                    <li>üß† <strong>Better Coworkers:</strong> Learning new skills makes you more creative, empathetic, and collaborative</li>
                    <li>üí° <strong>Innovation:</strong> Many of our best features have come from 25% time experiments</li>
                    <li>üéØ <strong>Reduced Burnout:</strong> Regular breaks for passion projects keep you energized and engaged</li>
                    <li>üöÄ <strong>Career Growth:</strong> Continuous learning accelerates your professional development</li>
                    <li>ü§ù <strong>Cultural Alignment:</strong> You experience firsthand what our users experience on Dream X</li>
                </ul>

                <div class="philosophy-quote">
                    <p>"We don't just build a platform for growth‚Äîwe live it. Your 25% time is protected, encouraged, and celebrated. It's not a perk; it's a core part of how we work."</p>
                    <cite>‚Äî Dream X Leadership Team</cite>
                </div>
            </div>
        </div>
    </div>

    <div class="content-block">
        <h2>Open Positions</h2>
        
        <div class="job-listings">
            <div class="job-card">
                <div class="job-header">
                    <h3>Senior Full-Stack Engineer</h3>
                    <span class="job-location">Remote / Hybrid</span>
                </div>
                <p class="job-description">Help us build scalable features for millions of users. Work with Node.js, React, and PostgreSQL to create amazing user experiences.</p>
                <div class="job-tags">
                    <span class="tag">Full-time</span>
                    <span class="tag">Engineering</span>
                    <span class="tag">Senior</span>
                </div>
                <a href="mailto:careers@dreamx.com?subject=Application: Senior Full-Stack Engineer" class="btn btn-primary" onclick="event.preventDefault(); openCareerForm('Senior Full-Stack Engineer')">Apply Now</a>
            </div>

            <div class="job-card">
                <div class="job-header">
                    <h3>Product Designer</h3>
                    <span class="job-location">Remote</span>
                </div>
                <p class="job-description">Shape the visual and interaction design of Dream X. Create beautiful, intuitive experiences that inspire users to grow.</p>
                <div class="job-tags">
                    <span class="tag">Full-time</span>
                    <span class="tag">Design</span>
                    <span class="tag">Mid-Senior</span>
                </div>
                <a href="mailto:careers@dreamx.com?subject=Application: Product Designer" class="btn btn-primary" onclick="event.preventDefault(); openCareerForm('Product Designer')">Apply Now</a>
            </div>

            <div class="job-card">
                <div class="job-header">
                    <h3>Content Moderator</h3>
                    <span class="job-location">Remote</span>
                </div>
                <p class="job-description">Help maintain our positive, productive community. Review content, enforce guidelines, and ensure Dream X remains a safe space for growth.</p>
                <div class="job-tags">
                    <span class="tag">Full-time</span>
                    <span class="tag">Operations</span>
                    <span class="tag">Entry-Mid</span>
                </div>
                <a href="mailto:careers@dreamx.com?subject=Application: Content Moderator" class="btn btn-primary" onclick="event.preventDefault(); openCareerForm('Content Moderator')">Apply Now</a>
            </div>

            <div class="job-card">
                <div class="job-header">
                    <h3>Marketing Manager</h3>
                    <span class="job-location">Remote / Hybrid</span>
                </div>
                <p class="job-description">Lead our growth marketing efforts. Create compelling campaigns that resonate with ambitious, growth-minded individuals.</p>
                <div class="job-tags">
                    <span class="tag">Full-time</span>
                    <span class="tag">Marketing</span>
                    <span class="tag">Mid-Senior</span>
                </div>
                <a href="mailto:careers@dreamx.com?subject=Application: Marketing Manager" class="btn btn-primary" onclick="event.preventDefault(); openCareerForm('Marketing Manager')">Apply Now</a>
            </div>
        </div>
    </div>

    <div class="content-block">
        <h2>Benefits & Perks</h2>
        <div class="benefits-grid">
            <div class="benefit-item">
                <div class="benefit-icon">üí∞</div>
                <h3>Competitive Salary</h3>
                <p>Market-rate compensation with equity options</p>
            </div>
            <div class="benefit-item">
                <div class="benefit-icon">üè•</div>
                <h3>Health Insurance</h3>
                <p>Comprehensive medical, dental, and vision coverage</p>
            </div>
            <div class="benefit-item">
                <div class="benefit-icon">üå¥</div>
                <h3>Unlimited PTO</h3>
                <p>Take the time you need to recharge</p>
            </div>
            <div class="benefit-item">
                <div class="benefit-icon">üíª</div>
                <h3>Equipment Budget</h3>
                <p>$3,000 to set up your perfect workspace</p>
            </div>
            <div class="benefit-item">
                <div class="benefit-icon">üìö</div>
                <h3>Learning Budget</h3>
                <p>$1,500/year for courses, books, and conferences</p>
            </div>
            <div class="benefit-item">
                <div class="benefit-icon">üè†</div>
                <h3>Remote First</h3>
                <p>Work from anywhere with flexible hours</p>
            </div>
        </div>
    </div>

    <div class="content-block cta-block">
        <h2>Don't see the perfect role?</h2>
        <p>We're always looking for talented people who share our passion for growth. Send us your resume and tell us what you'd love to work on.</p>
        <button class="btn btn-primary" onclick="openCareerForm('General Application')">Send General Application</button>
    </div>
</div>

<!-- Career Application Modal -->
<div id="careerModal" class="modal" style="display: none;">
    <div class="modal-content">
        <span class="modal-close" onclick="closeCareerForm()">&times;</span>
        <h2>Apply for <span id="positionTitle"></span></h2>
        <form id="careerForm" class="career-application-form">
            <input type="hidden" id="position" name="position" />
            
            <div class="form-row">
                <label for="applicantName" class="form-label">Full Name *</label>
                <input type="text" id="applicantName" name="name" class="form-input" required />
            </div>

            <div class="form-row">
                <label for="applicantEmail" class="form-label">Email Address *</label>
                <input type="email" id="applicantEmail" name="email" class="form-input" required />
            </div>

            <div class="form-row">
                <label for="applicantPhone" class="form-label">Phone Number</label>
                <input type="tel" id="applicantPhone" name="phone" class="form-input" />
            </div>

            <div class="form-row">
                <label for="coverLetter" class="form-label">Cover Letter / Why You? *</label>
                <textarea id="coverLetter" name="coverLetter" rows="6" class="form-textarea" 
                    placeholder="Tell us why you're a great fit for this role..." required></textarea>
            </div>

            <div class="form-row">
                <label for="resume" class="form-label">Resume/CV Link</label>
                <input type="url" id="resume" name="resume" class="form-input" 
                    placeholder="https://..." />
                <small class="hint">Link to your resume (Google Drive, Dropbox, etc.)</small>
            </div>

            <div class="form-row">
                <label for="portfolio" class="form-label">Portfolio/Website</label>
                <input type="url" id="portfolio" name="portfolio" class="form-input" 
                    placeholder="https://..." />
            </div>

            <div class="form-actions">
                <button type="button" class="btn-secondary" onclick="closeCareerForm()">Cancel</button>
                <button type="submit" class="btn-primary">Submit Application</button>
            </div>
        </form>
        <div id="careerFormMessage" style="display: none;"></div>
    </div>
</div>

<style>
.job-listings {
    display: grid;
    gap: 2rem;
    margin-top: 2rem;
}

.job-card {
    background: var(--bg-white);
    border: 2px solid var(--border-color);
    border-radius: var(--radius-lg);
    padding: 2rem;
    transition: all 0.3s ease;
}

.job-card:hover {
    border-color: var(--primary-color);
    box-shadow: 0 8px 24px rgba(255, 79, 163, 0.15);
    transform: translateY(-2px);
}

.job-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 1rem;
}

.job-header h3 {
    margin: 0;
    font-size: 1.5rem;
    color: var(--text-dark);
}

.job-location {
    font-size: 0.9rem;
    color: var(--text-light);
    font-weight: 600;
}

.job-description {
    margin: 1rem 0 1.5rem;
    line-height: 1.7;
    color: var(--text-light);
}

.job-tags {
    display: flex;
    gap: 0.5rem;
    flex-wrap: wrap;
    margin-bottom: 1.5rem;
}

.tag {
    background: var(--bg-light);
    color: var(--text-dark);
    padding: 0.35rem 0.85rem;
    border-radius: 20px;
    font-size: 0.8rem;
    font-weight: 600;
}

.benefits-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 2rem;
    margin-top: 2rem;
}

.benefit-item {
    text-align: center;
}

.benefit-icon {
    font-size: 3rem;
    margin-bottom: 1rem;
}

.benefit-item h3 {
    font-size: 1.1rem;
    margin-bottom: 0.5rem;
    color: var(--text-dark);
}

.benefit-item p {
    color: var(--text-light);
    font-size: 0.95rem;
}

.cta-block {
    text-align: center;
    background: linear-gradient(135deg, rgba(102, 126, 234, 0.1), rgba(255, 79, 163, 0.1));
    padding: 3rem;
    border-radius: var(--radius-lg);
}

/* 25% Time Philosophy Styles */
.highlight-block {
    background: linear-gradient(135deg, rgba(102, 126, 234, 0.08), rgba(255, 79, 163, 0.08));
    border: 2px solid rgba(255, 79, 163, 0.2);
    border-radius: var(--radius-lg);
    padding: 3rem;
    margin: 3rem 0;
}

.highlight-block h2 {
    font-size: 2rem;
    margin-bottom: 1rem;
    color: var(--text-dark);
    text-align: center;
}

.time-philosophy {
    display: flex;
    gap: 3rem;
    margin-top: 2rem;
    align-items: flex-start;
}

.time-stat {
    flex-shrink: 0;
    text-align: center;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 2.5rem 2rem;
    border-radius: 16px;
    box-shadow: 0 8px 24px rgba(102, 126, 234, 0.3);
    min-width: 180px;
}

.stat-number {
    font-size: 4rem;
    font-weight: 900;
    line-height: 1;
    margin-bottom: 0.5rem;
}

.stat-label {
    font-size: 1.2rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.time-description {
    flex: 1;
}

.time-description h3 {
    font-size: 1.6rem;
    margin-bottom: 1rem;
    color: var(--text-dark);
}

.time-description h4 {
    font-size: 1.2rem;
    margin: 2rem 0 1rem;
    color: var(--text-dark);
    font-weight: 700;
}

.time-description p {
    line-height: 1.8;
    margin-bottom: 1rem;
    color: var(--text-light);
}

.time-description ul {
    margin: 1rem 0 1.5rem 1.5rem;
    line-height: 1.8;
}

.time-description li {
    margin-bottom: 0.75rem;
    color: var(--text-light);
}

.time-description strong {
    color: var(--text-dark);
    font-weight: 700;
}

.philosophy-quote {
    background: white;
    border-left: 4px solid var(--primary-color);
    padding: 1.5rem 2rem;
    margin: 2rem 0;
    border-radius: 8px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.05);
}

.philosophy-quote p {
    font-size: 1.1rem;
    font-style: italic;
    color: #1f2937;
    margin-bottom: 0.5rem;
    line-height: 1.7;
}

.philosophy-quote cite {
    color: var(--primary-color);
    font-style: normal;
    font-weight: 600;
    font-size: 0.95rem;
}

/* Modal Styles */
.modal {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.7);
    z-index: 10000;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 1rem;
}

.modal-content {
    background: white;
    border-radius: var(--radius-lg);
    max-width: 600px;
    width: 100%;
    max-height: 90vh;
    overflow-y: auto;
    padding: 2rem;
    position: relative;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
}

.modal-close {
    position: absolute;
    top: 1rem;
    right: 1rem;
    font-size: 2rem;
    cursor: pointer;
    color: var(--text-light);
    line-height: 1;
    transition: color 0.3s ease;
}

.modal-close:hover {
    color: var(--primary-color);
}

.modal-content h2 {
    margin: 0 0 1.5rem;
    color: var(--text-dark);
}

.career-application-form {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#careerFormMessage {
    padding: 1rem;
    border-radius: var(--radius-md);
    margin-top: 1rem;
    font-weight: 600;
}

#careerFormMessage.success {
    background: #d4edda;
    color: #155724;
    border: 1px solid #c3e6cb;
}

#careerFormMessage.error {
    background: #f8d7da;
    color: #721c24;
    border: 1px solid #f5c6cb;
}

@media (max-width: 768px) {
    .job-header {
        flex-direction: column;
        gap: 0.5rem;
    }
    
    .modal-content {
        padding: 1.5rem;
    }
    
    .time-philosophy {
        flex-direction: column;
        gap: 2rem;
    }
    
    .time-stat {
        width: 100%;
    }
    
    .highlight-block {
        padding: 2rem 1.5rem;
    }
}
</style>

<script>
function openCareerForm(position) {
    document.getElementById('careerModal').style.display = 'flex';
    document.getElementById('positionTitle').textContent = position;
    document.getElementById('position').value = position;
    document.getElementById('careerForm').reset();
    document.getElementById('position').value = position;
    document.getElementById('careerFormMessage').style.display = 'none';
}

function closeCareerForm() {
    document.getElementById('careerModal').style.display = 'none';
}

// Close modal on outside click
document.addEventListener('click', function(event) {
    const modal = document.getElementById('careerModal');
    if (event.target === modal) {
        closeCareerForm();
    }
});

// Handle form submission
document.getElementById('careerForm').addEventListener('submit', async function(e) {
    e.preventDefault();
    
    const formData = new FormData(this);
    const data = Object.fromEntries(formData.entries());
    
    const submitBtn = this.querySelector('button[type="submit"]');
    const originalText = submitBtn.textContent;
    submitBtn.textContent = 'Submitting...';
    submitBtn.disabled = true;
    
    try {
        const response = await fetch('/api/careers/apply', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify(data)
        });
        
        const result = await response.json();
        const messageDiv = document.getElementById('careerFormMessage');
        
        if (response.ok) {
            messageDiv.textContent = result.message || 'Application submitted successfully!';
            messageDiv.className = 'success';
            messageDiv.style.display = 'block';
            this.reset();
            
            setTimeout(() => {
                closeCareerForm();
            }, 3000);
        } else {
            messageDiv.textContent = result.error || 'Failed to submit application. Please try again.';
            messageDiv.className = 'error';
            messageDiv.style.display = 'block';
        }
    } catch (error) {
        const messageDiv = document.getElementById('careerFormMessage');
        messageDiv.textContent = 'An error occurred. Please try again later.';
        messageDiv.className = 'error';
        messageDiv.style.display = 'block';
    } finally {
        submitBtn.textContent = originalText;
        submitBtn.disabled = false;
    }
});
</script>

<%- include('partials/footer') %>
